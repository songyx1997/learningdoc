<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>8.获取页面中的全部标签</title>
    <script>
        function getTags() {
            function addEl(elements) {
                for (const el of elements) {
                    let tagName = el.tagName.toLowerCase();
                    if (tagName === 'iframe') {
                        // 当存在iframe标签时，借助iframe.contentDocument属性来获取iframe内部文档对象
                        let iframeBody = el.contentDocument.body;
                        // 递归
                        addEl(iframeBody.querySelectorAll('*'));
                    }
                    if (!set.has(tagName)) {
                        set.add(tagName)
                    }
                }
            }

            let elements = document.querySelectorAll('body *');
            let set = new Set();
            addEl(elements);
            console.log(set);
        }
    </script>
</head>

<body>
    <button onclick="getTags()">获取页面中的标签个数</button>
    <div>文本一</div>
    <div>文本二</div>
    <div>文本三</div>
    <a>测试链接一</a>
    <a />
    <div>
        <iframe src="../../html+css+js/practice/mail/index.html" width="100%" height="600" frameborder="0"
            scrolling="auto" />
    </div>
</body>

</html>